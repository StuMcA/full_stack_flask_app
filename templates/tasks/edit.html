{% extends 'base.html' %}

{% block content %}
<h1>Update task details here:</h1>
<form action="/tasks/{{task.id}}" method="POST">
    <label for="description">Description:</label>
    <input type="text" id="description" name="description" value="{{task.description}}">
    <label for="user">User:</label>
    <select name="user_id" id="user">
        <option disabled="disabled">Pick a user</option>
        {% for user in all_users %}
            {% if task.user.id == user.id %}
                <option value="{{user.id}}" selected="true">{{user.first_name}} {{user.last_name}}</option>
            {% else %}
                <option value="{{user.id}}">{{user.first_name}} {{user.last_name}}</option>
            {% endif %}
        {% endfor %}
    </select>
    <label for="duration">Duration:</label>
    <input type="number" name="duration" id="duration" value={{task.duration}}>
    <label for="completed">Completed:</label>
    <select name="completed" id="completed">
        <option selected="true" disabled="disabled">Select an option</option>
        {% if task.completed == True %}
            <option value="true" selected="True">Completed</option>
            <option value="false">Not completed</option>
        {% else %}
            <option value="true">Completed</option>
            <option value="false" selected="True">Not completed</option>
        {% endif %}
    </select>
    <input type="submit" value="Save changes">
</form>
{% endblock %}